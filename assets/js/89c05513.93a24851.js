"use strict";(self.webpackChunkzio_site=self.webpackChunkzio_site||[]).push([[96965],{15680:(e,t,n)=>{n.d(t,{xA:()=>g,yg:()=>m});var a=n(96540);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},g=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,g=r(e,["components","mdxType","originalType","parentName"]),p=u(n),d=o,m=p["".concat(s,".").concat(d)]||p[d]||c[d]||i;return n?a.createElement(m,l(l({ref:t},g),{},{components:n})):a.createElement(m,l({ref:t},g))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,l=new Array(i);l[0]=d;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r[p]="string"==typeof e?e:o,l[1]=r;for(var u=2;u<i;u++)l[u]=n[u];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},12227:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>i,metadata:()=>r,toc:()=>u});var a=n(58168),o=(n(96540),n(15680));const i={id:"how-to-contribute",title:"How to Contribute?"},l=void 0,r={unversionedId:"zio-quill/how-to-contribute",id:"zio-quill/how-to-contribute",title:"How to Contribute?",description:"Instructions on how to contribute to Quill project.",source:"@site/docs/zio-quill/CONTRIBUTING.md",sourceDirName:"zio-quill",slug:"/zio-quill/how-to-contribute",permalink:"/zio-quill/how-to-contribute",draft:!1,editUrl:"https://github.com/zio/zio/edit/series/2.x/docs/zio-quill/CONTRIBUTING.md",tags:[],version:"current",frontMatter:{id:"how-to-contribute",title:"How to Contribute?"},sidebar:"ecosystem-sidebar",previous:{title:"Quill Changelog",permalink:"/zio-quill/changelog"},next:{title:"ZIO Redis",permalink:"/zio-redis/"}},s={},u=[{value:"Building the project using Docker",id:"building-the-project-using-docker",level:2},{value:"Building Scala.js targets",id:"building-scalajs-targets",level:2},{value:"Changing database schema",id:"changing-database-schema",level:2},{value:"Changing docker configuration",id:"changing-docker-configuration",level:2},{value:"Tests",id:"tests",level:2},{value:"Running tests",id:"running-tests",level:3},{value:"Debugging tests",id:"debugging-tests",level:3},{value:"Pull Request",id:"pull-request",level:2},{value:"File Formatting",id:"file-formatting",level:2},{value:"Notes About Git",id:"notes-about-git",level:2},{value:"Building locally using Docker only for databases",id:"building-locally-using-docker-only-for-databases",level:2},{value:"All In One",id:"all-in-one",level:3},{value:"Debugging using IntelliJ",id:"debugging-using-intellij",level:2},{value:"Debug Macros by Remote Debugging SBT",id:"debug-macros-by-remote-debugging-sbt",level:3},{value:"Debug Macros by Launching a Session",id:"debug-macros-by-launching-a-session",level:3},{value:"Additional Debug Arguments",id:"additional-debug-arguments",level:2},{value:"&#39;Trick&#39; Debugging via the Dynamic Query API",id:"trick-debugging-via-the-dynamic-query-api",level:2},{value:"Alternate Method",id:"alternate-method",level:4}],g={toc:u},p="wrapper";function c(e){let{components:t,...i}=e;return(0,o.yg)(p,(0,a.A)({},g,i,{components:t,mdxType:"MDXLayout"}),(0,o.yg)("p",null,"Instructions on how to contribute to Quill project."),(0,o.yg)("h2",{id:"building-the-project-using-docker"},"Building the project using Docker"),(0,o.yg)("p",null,"The only dependency you need to build Quill locally is ",(0,o.yg)("a",{parentName:"p",href:"https://www.docker.com/"},"Docker"),".\nInstructions on how to install Docker can be found ",(0,o.yg)("a",{parentName:"p",href:"https://docs.docker.com/engine/installation/"},"here"),"."),(0,o.yg)("p",null,"If you are running Linux, you should also install Docker Compose separately, as described\n",(0,o.yg)("a",{parentName:"p",href:"https://docs.docker.com/compose/install/"},"here"),"."),(0,o.yg)("p",null,"After installing Docker and Docker Compose you have to setup databases:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"docker-compose run --rm setup\n")),(0,o.yg)("p",null,"After that you are ready to build and test the project. The following steps describes how to test the project with\nsbt built within docker image. If you would like to use your local sbt,\nplease visit ",(0,o.yg)("a",{parentName:"p",href:"#building-locally-using-docker-only-for-databases"},"Building locally"),". This is highly recommended\nwhen running Docker on non-linux OS due to high IO overhead from running\n",(0,o.yg)("a",{parentName:"p",href:"https://docs.docker.com/docker-for-mac/osxfs/#performance-issues-solutions-and-roadmap"},"Docker in virtualized environments"),"."),(0,o.yg)("p",null,"To build and test the project:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"docker-compose run --rm sbt sbt test\n")),(0,o.yg)("h2",{id:"building-scalajs-targets"},"Building Scala.js targets"),(0,o.yg)("p",null,"The Scala.js targets are disabled by default, use ",(0,o.yg)("inlineCode",{parentName:"p"},'sbt "project quill-with-js"')," to enable them.\nThe CI build also sets this ",(0,o.yg)("inlineCode",{parentName:"p"},"project quill-with-js")," to force the Scala.js compilation."),(0,o.yg)("h2",{id:"changing-database-schema"},"Changing database schema"),(0,o.yg)("p",null,"If any file that creates a database schema was changed then you have to setup the databases again:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"docker-compose down && docker-compose run --rm setup\n")),(0,o.yg)("h2",{id:"changing-docker-configuration"},"Changing docker configuration"),(0,o.yg)("p",null,"If ",(0,o.yg)("inlineCode",{parentName:"p"},"build/Dockerfile-sbt"),", ",(0,o.yg)("inlineCode",{parentName:"p"},"build/Dockerfile-setup"),", ",(0,o.yg)("inlineCode",{parentName:"p"},"docker-compose.yml")," or any file used by them was changed then you have to rebuild docker images and to setup the databases again:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"docker-compose down && docker-compose build && docker-compose run --rm setup\n")),(0,o.yg)("h2",{id:"tests"},"Tests"),(0,o.yg)("h3",{id:"running-tests"},"Running tests"),(0,o.yg)("p",null,"Run all tests:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"docker-compose run --rm sbt sbt test\n")),(0,o.yg)("p",null,"Run specific test:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},'docker-compose run --rm sbt sbt "test-only io.getquill.context.sql.SqlQuerySpec"\n')),(0,o.yg)("p",null,"Run all tests in specific sub-project:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},'docker-compose run --rm sbt sbt "project quill-jdbc-zio" test\n')),(0,o.yg)("p",null,"Run specific test in specific sub-project:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},'docker-compose run --rm sbt sbt "project quill-sqlJVM" "test-only io.getquill.context.sql.SqlQuerySpec"\n')),(0,o.yg)("h3",{id:"debugging-tests"},"Debugging tests"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"Run sbt in interactive mode with docker container ports mapped to the host: ")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"docker-compose run --service-ports --rm sbt\n")),(0,o.yg)("ol",{start:2},(0,o.yg)("li",{parentName:"ol"},"Attach debugger to port 15005 of your docker host. In IntelliJ IDEA you should create Remote Run/Debug Configuration,\nchange it port to 15005."),(0,o.yg)("li",{parentName:"ol"},"In sbt command line run tests with ",(0,o.yg)("inlineCode",{parentName:"li"},"test")," or test specific spec by passing full name to ",(0,o.yg)("inlineCode",{parentName:"li"},"test-only"),":")),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"> test-only io.getquill.context.sql.SqlQuerySpec\n")),(0,o.yg)("h2",{id:"pull-request"},"Pull Request"),(0,o.yg)("p",null,"In order to contribute to the project, just do as follows:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},"Fork the project"),(0,o.yg)("li",{parentName:"ol"},"Build it locally"),(0,o.yg)("li",{parentName:"ol"},"Code"),(0,o.yg)("li",{parentName:"ol"},"Compile (file will be formatted)"),(0,o.yg)("li",{parentName:"ol"},"Run the tests through ",(0,o.yg)("inlineCode",{parentName:"li"},"docker-compose run sbt sbt test")),(0,o.yg)("li",{parentName:"ol"},"If you made changes in *.md files, run ",(0,o.yg)("inlineCode",{parentName:"li"},"docker-compose run sbt sbt tut")," to validate them"),(0,o.yg)("li",{parentName:"ol"},"If everything is ok, commit and push to your fork"),(0,o.yg)("li",{parentName:"ol"},"Create a Pull Request, we'll be glad to review it")),(0,o.yg)("h2",{id:"file-formatting"},"File Formatting"),(0,o.yg)("p",null,(0,o.yg)("a",{parentName:"p",href:"https://scalameta.org/scalafmt/"},"scalafmt")," is used as file formatting tool in this project.\nEvery time you compile the project in sbt, file formatting will be triggered. To manually format\nthe Quill codebase, run the following command:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"scalafmt --config .scalafmt.conf\n")),(0,o.yg)("h2",{id:"notes-about-git"},"Notes About Git"),(0,o.yg)("p",null,"As you are working on a branch fixing a Quill problem, there will likely be additional changes merged\nto the main Quill repo (i.e. getquill/quill) before you finish. The solution to this is to squash your commits,\nand then to replay them on top of the latest changes that have been made to the main Quill repo."),(0,o.yg)("p",null,"The steps to do that are the following:\n1) Squash your commits via an interactive git rebase (see ",(0,o.yg)("a",{parentName:"p",href:"https://medium.com/@slamflipstrom/a-beginners-guide-to-squashing-commits-with-git-rebase-8185cf6e62ec"},"here"),").\n2) If you have not already, add an 'upstream' remote to your repository:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"git remote add upstream 'git@github.com:getquill/quill.git'\n")),(0,o.yg)("p",null,"3) Do a git Pull + Rebase from the upstream:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"git pull --rebase upstream master\n")),(0,o.yg)("p",null,"Once you have resolved any conflicts that may have arisen from the rebase, your\nbranch will be capable of becoming a pull-request."),(0,o.yg)("h2",{id:"building-locally-using-docker-only-for-databases"},"Building locally using Docker only for databases"),(0,o.yg)("p",null,"To restart your database service with database ports exposed to your host machine run:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"docker-compose down && docker-compose run --rm --service-ports setup\n")),(0,o.yg)("p",null,"After that we need to set some environment variables in order to run ",(0,o.yg)("inlineCode",{parentName:"p"},"sbt")," locally."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-bash"},"export CASSANDRA_HOST=127.0.0.1\nexport CASSANDRA_PORT=19042\nexport CASSANDRA_CONTACT_POINT_0=127.0.0.1:19042\nexport CASSANDRA_DC=datacenter1\nexport MYSQL_HOST=127.0.0.1\nexport MYSQL_PORT=13306\nexport MYSQL_PASSWORD=root\nexport POSTGRES_HOST=127.0.0.1\nexport POSTGRES_PORT=15432\nexport POSTGRES_PASSWORD=postgres\nexport SQL_SERVER_HOST=127.0.0.1\nexport SQL_SERVER_PORT=11433\nexport ORIENTDB_HOST=127.0.0.1\nexport ORIENTDB_PORT=12424\nexport ORACLE_HOST=127.0.0.1\nexport ORACLE_PORT=11521\n")),(0,o.yg)("p",null,"Where ",(0,o.yg)("inlineCode",{parentName:"p"},"127.0.0.1")," is address of local docker.\nIf you have non-local docker change it depending on your settings."),(0,o.yg)("p",null,"Finally, you can use ",(0,o.yg)("inlineCode",{parentName:"p"},"sbt")," locally."),(0,o.yg)("h3",{id:"all-in-one"},"All In One"),(0,o.yg)("p",null,"To restart the database services, rebuild them, and start with locally exposed ports run:"),(0,o.yg)("p",null,"docker-compose down && docker-compose build && docker-compose run --rm --service-ports setup"),(0,o.yg)("p",null,"Note: Make sure you have exposed all the ports as mentioned above."),(0,o.yg)("h2",{id:"debugging-using-intellij"},"Debugging using IntelliJ"),(0,o.yg)("p",null,(0,o.yg)("a",{parentName:"p",href:"https://www.jetbrains.com/idea/"},"IntelliJ"),' has a comprehensive debugger that also works with macros which is very\nhelpful when working on Quill. There are two ways to debug Quill macros using IntelliJ. The first way is to launch SBT in\ndebug mode and use IntelliJ to remote debug it. The second way is to launch a debug session\nfrom IntelliJ from the "Run/Debug Configurations" menu.'),(0,o.yg)("h3",{id:"debug-macros-by-remote-debugging-sbt"},"Debug Macros by Remote Debugging SBT"),(0,o.yg)("p",null,"In order to use the debugger you need to run sbt manually so follow the instructions\n",(0,o.yg)("a",{parentName:"p",href:"#building-locally-using-docker-only-for-databases"},"here")," first. After this you need to edit ",(0,o.yg)("inlineCode",{parentName:"p"},"build.sbt")," to disable\nforking when running tests, this is done by changing ",(0,o.yg)("inlineCode",{parentName:"p"},"fork := true")," to ",(0,o.yg)("inlineCode",{parentName:"p"},"fork := false")," for the tests you want to run."),(0,o.yg)("p",null,"After this you need to launch sbt with ",(0,o.yg)("inlineCode",{parentName:"p"},"sbt -jvm-debug 5005"),". Note that since the JVM is no longer forked in tests its\nrecommended to launch sbt with additional memory, i.e. ",(0,o.yg)("inlineCode",{parentName:"p"},"sbt -jvm-debug 5005 -mem 4096")," otherwise sbt may complain about\nhaving memory issues."),(0,o.yg)("p",null,"Then in IntelliJ you need to\n",(0,o.yg)("a",{parentName:"p",href:"https://www.jetbrains.com/help/idea/run-debug-configuration-remote-debug.html"},"add a remote configuration"),". The default\nparameters will work fine (note that we started sbt with the debug port ",(0,o.yg)("inlineCode",{parentName:"p"},"5005")," which is also the default debug port\nin IntelliJ). After you have added the configuration you should be able to start it to start debugging! Feel to free\nto add breakpoints to step through the code."),(0,o.yg)("p",null,"Note that its possible to debug macros (you can even\n",(0,o.yg)("a",{parentName:"p",href:"https://www.jetbrains.com/help/idea/evaluating-expressions.html"},"evaluate expressions")," while paused inside a macro),\nhowever you need to edit the macro being executed after every debug run to force the macro to recompile since macro\ninvocations are cached on a file basis. You can easily do this just by adding new lines."),(0,o.yg)("h3",{id:"debug-macros-by-launching-a-session"},"Debug Macros by Launching a Session"),(0,o.yg)("p",null,"Firstly, you will need to build Quill with some additional dependencies that include the file ",(0,o.yg)("inlineCode",{parentName:"p"},"scala.tools.nsc.Main"),".\nYou can do this adding the argument ",(0,o.yg)("inlineCode",{parentName:"p"},"-DdebugMacro=true")," to the sbt launcher. You can do this in the IntelliJ SBT\nmenu:"),(0,o.yg)("p",null,(0,o.yg)("img",{alt:"IntelliJ-SBT-Settings.png",src:n(25579).A,width:"1073",height:"728"})),(0,o.yg)("p",null,"In IntelliJ, go to ",(0,o.yg)("inlineCode",{parentName:"p"},"Run -> Edit Configurations...")," click on the Plus (i.e. ",(0,o.yg)("inlineCode",{parentName:"p"},"+"),") button (or ",(0,o.yg)("inlineCode",{parentName:"p"},"Add New Configuration"),")\nand select ",(0,o.yg)("inlineCode",{parentName:"p"},"Application"),". Then enter the following settings:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"Main Class: scala.tools.nsc.Main\nVM Options: -Dscala.usejavacp=true\nProgram Arguments: -cp io.getquill.MySqlTest.scala /home/me/projects/quill/quill-sql/src/main/scala/io/getquill/MySqlTest.scala\nUse classpath of module: quill-sql\nBefore launch:\nBuild, no error check (make sure to set this since you will frequently want to debug the macros even if the build fails)\n")),(0,o.yg)("p",null,"It should look like this:\n",(0,o.yg)("img",{alt:"IntelliJ-Run-Debug-Config.png",src:n(78882).A,width:"1084",height:"707"})),(0,o.yg)("blockquote",null,(0,o.yg)("p",{parentName:"blockquote"},"NOTE In this example, our entry-point into Quill-macro-debugging is ",(0,o.yg)("inlineCode",{parentName:"p"},"MySqlTest.scala"),".\nIn our IntelliJ application configuration this file name is being explicitly specified.",(0,o.yg)("br",null),"\nIf you wish to easily be able to macro-debug multiple entry-point files, an alternative method would be to\nuse some IntelliJ variables to automatically pass whatever file is currently selected. You can do this by using\nthe configuration:"),(0,o.yg)("pre",{parentName:"blockquote"},(0,o.yg)("code",{parentName:"pre"},"-cp $FileFQPackage$$FileName$ $FilePath$\n")),(0,o.yg)("p",{parentName:"blockquote"},"Also, instead of specifying the path segment ",(0,o.yg)("inlineCode",{parentName:"p"},"/home/me/projects/quill/")," you can use ",(0,o.yg)("inlineCode",{parentName:"p"},"$ProjectFileDir$"))),(0,o.yg)("p",null,"Then create a file ",(0,o.yg)("inlineCode",{parentName:"p"},"quill-sql/src/main/scala/io/getquill/MySqlTest.scala")," that has the code you wish to debug.\nFor example:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-scala"},'object MySqlTest {\n\n  val ctx = new SqlMirrorContext(PostgresDialect, Literal)\n  import ctx._\n\n  case class Person(name: String, age:Int)\n\n  def main(args:Array[String]):Unit = {    \n    val q = quote {\n      query[Person].filter(p => p.name == "Joe")\n    }\n    println( run(q).string )\n  }\n}\n')),(0,o.yg)("p",null,"Set a breakpoint anywhere in the Quill codebase and run this configuration from the top-right menu shortcut:\n",(0,o.yg)("img",{alt:"IntelliJ-Debug-App-Launcher",src:n(64350).A,width:"399",height:"24"})),(0,o.yg)("h2",{id:"additional-debug-arguments"},"Additional Debug Arguments"),(0,o.yg)("p",null,"Some additional arguments you can add to your compiler's VM args provide insight into Quill's compilation:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"-DdebugMacro=true                              // Enables libraries needed to debug via an IntelliJ Application session (default=false)\n-DexcludeTests=false                           // Excludes testing code from being build. Useful during development times that require rapid iteration\n-Dquill.macro.log.pretty=true                  // Pretty print the SQL Queries that Quill produces (default=false)\n-Dquill.macro.log=true                         // Enable/Disable printing of the SQL Queries Quill generates during compile-time (default=true)\n-Dquill.trace.enabled=true                     // Global switch that Enables/Disables printing of Quill ASTs during compilation (default=false)\n-Dquill.trace.color=true                       // Print Quill ASTs in color (default=false) \n-Dquill.trace.opinion=false                    // Print the parts of Quill ASTs not directly used in the main transformation phases (called Opinions).  (default=false) \n-Dquill.trace.ast.simple=true                  // Print the raw Quill ASTs elements or a more compact view of the AST code (think `show` vs `showRaw` in Scala macros). (default=true) \n-Dquill.trace.types=sql,standard,alias,norm    // What parts of the Quill transformations to print during compilation?\n")),(0,o.yg)("p",null,"In IntelliJ, add them in the SBT settings if your are compiling using SBT:\n",(0,o.yg)("img",{alt:"IntelliJ-SBT-Settings-Additional.png",src:n(90201).A,width:"1168",height:"728"})),(0,o.yg)("h2",{id:"trick-debugging-via-the-dynamic-query-api"},"'Trick' Debugging via the Dynamic Query API"),(0,o.yg)("p",null,"Since typically the Quill Query Normalizations and Tokenizations run during compile-time,\nbreak-point debugging them requires one of the above two steps. However, you can 'trick'\nQuill into running these during compile time by using the ",(0,o.yg)("inlineCode",{parentName:"p"},".dynamically")," keyword."),(0,o.yg)("p",null,"For example say you have a query that looks like this, and you would like to see\nwhat happens to the AST in the ",(0,o.yg)("inlineCode",{parentName:"p"},"ExpandDistinct")," phase."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-scala"},"val q = quote { query[Person].distinct.map(p => p.name) }\nval output = run(q)\n")),(0,o.yg)("p",null,"Change the quotation to be dynamic:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-scala"},"val output = run(q.dynamically)\n")),(0,o.yg)("p",null,"Since the query is now dynamic, you can set a breakpoint in the ExpandDistinct\nclass and it will be hit during the runtime of your application."),(0,o.yg)("h4",{id:"alternate-method"},"Alternate Method"),(0,o.yg)("p",null,"In situations where the .dynamically keyword is not available, e.g. when the\nquoted construct is not a query, add a type annotation to the variable holding the\nquotation and this will effectively cause the same behavior."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-scala"},"val q = quote { query[Person].distinct.map(p => p.name) }\nval output = run(q)\n")),(0,o.yg)("p",null,"Add a type annotation which will cause it to be dynamic"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-scala"},"val q: Quoted[Query[String]] = quote { query[Person].distinct.map(p => p.name) }\n")),(0,o.yg)("p",null,"Same as before, since the query is now dynamic, you can set a breakpoint in the ExpandDistinct\nclass and it will be hit during the runtime of your application."))}c.isMDXComponent=!0},64350:(e,t,n)=>{n.d(t,{A:()=>a});const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAY8AAAAYCAIAAACN7Ob/AAAAA3NCSVQICAjb4U/gAAAAEHRFWHRTb2Z0d2FyZQBTaHV0dGVyY4LQCQAAFCZJREFUeNrtXGdAE1nXPpNMEkoCoVdDr1IUZAVUithARRALFmy7yIoooqvL2hdBxYIdBRVpuvqqrChlFT9UsIAsuIiLFBEBaVJCqAlp748AugoBAiLfvjm/UmbO3HnmznOf59w7gzQ3N4MwhCEMYYz6QEfyYFwut6ampr6+vrOzUwi9MEZP4PF4WVlZRUVFBEGEaAjZCgCAR1V6enqSkpLCbiGMURJcLpdGoxUWFgKAkpKSEJBRG5iRPFhdXZ2uri6ZTBZSlTBGTyAIQiaTdXV16+rqhGgI2aorGAwGmUwWgs5nmGfSOzn/rlNit9eWvKkf/c6fTCYzGAxhF/w3OEEqnXb+xZUmOo0LXAarM2T6HsEkNx9VFX8/vd8M86ZN+ddeCs6HG856Syv3FmT5aqL/lpNil4VN0dqIPfvumacqdrQrLC6X+62OzmB3huXEOGpN1ZHWAIDixtLkklQvMw8CFv/NkWGxWO/evautreVyuQoKCurq6jgcbvRqKyqdFpIZXkJ919BB1SSrBdj+NHo6GSNvty6Kam3NavucGpsf/aiCoqbHSlgj2Jy2p+t1CWhX4CRUTRxW7L2S0zCgJrBbG1o43NELFLsx47SnnY4UiqIoKqZs7LDm2NPGfpRgz+mwykLN0d7D5HAxc7AkWJ9+fKNn4BfnMoJx5s/I+vbG4crW2NFUTqs8mXWxsKGkqPHtyayL5bTKxo6mQSVpaWkpKChITU2NjY0NDg4ODg6OjY1NTU0tKChoaWkRrGF5eXkhISGRkZF37969d+9eVFRUSEhIXl7eKNVWPKr60FYPAJYqZitNFmIQAf0j/7GrX93Uq/hiNpY2ANDO7IjblOyh8nH4ZpZG+1+sBcBX0VgjOJnAbq2qYmNN1h/01MPRaTVFmQlXA1dcOR25/48bWydIfMtq3VCB6iw6Ncf2p+diZot8l5vIIo1vMu5l5dOxA+0KWGmbn48frmQCAONN9J6wPM01+9YaiAAAqmgvN1jZxfrw4FzoJeWph3daDKcPH4y2evnh9euGNzM1bWdp2uGwQ9UaSkT5H81XHHl27lRWBAAwOax15iuViPKDShIcHPzZLwUFBQUFBbzPgYGBg21VRkZGQkKChobGkiVLeBOmNTU1KSkp165da21ttbKyGmzCnJwcPv+amZkNia1aGK3nX1zmURUAqJAUBaYqPr1hCB6Qy6h7TwOAztTAsL8XBpiIdGucP48HZ3EBoKmSxhppYiCOne+5zpYIAAD7gnNC5tv9vN1507hXF2ZIY74VWQ0VqM6S6+efsyl+KQ8PTxDj/XRoUEaLZLTIxwgAAFrT/joSVqTrtt5vpsSoMoODdYJMNjOh+H5GZY67obOxvMEQtdXFF79xgcvkdF2FCy+ubJroSZFQFjinv7//+/fvq6qqUlNTBdi9pqYmKSnJ3NzcxcUFQZCOjo6ysjI9Pb3Vq1fHxcUlJydraGgoKiqOFidIpdMOZZwtoZYBABbBAMDNgqSU0rRRVRehVVIBTNa5ypecOfigsau3cWoS9kVUqy76wQBaahp5FV5OffKP5spEFEVRVFJnmt/V4o6eXld1b7/7BBVRFEVF5AxdT76mt/518vtppmMkUBRFUbLplsx2AOisSApYMF6RgKKolP6szbH5rQPo3IiE2abIU3a4D9G7rpbzOiK99Pcdc8dKoyiKVxjvfuRJA/uT7cuvek+iiKEoKjbGavXJjEY2AAAjP0AfRafe6jYGbemr5VD5NY+7jBCr5sFhD8sxYiiKoihJ2XDyshN/0wUDqjnFXQoVnx3fvQG34ZajGErxzWrroLYB4ImifcggZnXqIQ8rdRKKoigqIqNp5rQ1sYY9mEvZFyys2v8LnG8ih6IoipPWtN2e0dq9R9oCWZ6X1NmV9+3q4/Xtjaf/jBTYGIZkhodkhh/OONtI/4fva2O2n3x+gfevgIMmkaivrz916lTBdn/y5AmJRJo9ezav1lxbWxsbG8sj9Llz5xKJxMePH48iJ3gp9xpPVaEYdP2EVRG5V1sYrTdeJwLAdA2b4R27+NvAvsUXq7m6BcTNnX5Z9vj37fvjDs74gYIF5puYA/eY1md/mXnz5oXaKhoLpFHAiCpoTVmxY5WmDKfs7qngU8tdpYyzd48lcOr/WG81J6JW33XDPmslbl0ZXVcGbUn6LephmbXX3i1jpdiNdENVPKcu8UeredE006XbDo7Dldw5c3KV5d/tfyWs1ezXBGBVnLwmYR+m3cxqWqcuVXvrB6uFV5nW6w6e0W9NPRHoP71OMv+up3rXlWjOrVBau/0QhfMm6Vz4Ztt8+l9p2/iO2pyGlA3Wjuer9Of7Bk1WQRtyooNjf79fcdZ3rIgAQKmPX2SJv5EV/6ptng0RADoKk//qFLN21CVrOdrLHI8Jct9IiQzyMJf9R8fpwvC9qsPaXT46xM7qtFMhiQk51KDZsgMddWr6gAWpvr7SeW+64fcHwm2VudWFZQqy+O5ymI5v2B4LcQAs2YTS21Woq6s7evTol09rSEhIbNmyRU5ObojaaliMYX17I4vDojF6qSu1dLZVttQMvdAugAcEgLdv32pra+PxvRwdh8Pp6+vzVqiNFrbyMHY7mhnWwmjzMltuKKuz+bu1Ic/DeYT1svb1fH0nDfKYYVTax/Kpvf7uZyjFp4DRXE0DkoKMrscOx73uRyMLPHaPZeeEnnpFXpC4QJ2QRoTi7nqMuNnW412+eMVUrMn4/XH3K7ePVSkK3RxRqeab/uyIFam7rsSpBgBQd9vi3z09x/j715+ia9T8Hj88ZElCAHyWGNiN3bwr8MmSCDtSv/qKqGYoDw9r39QzGdVntl2t19iamXzAXBxgzQyJYoNtx2KLV+404B3IaP/tG5u0UADYsNzEwdDnYMCjtb/Z8nFohaGbzpcred1/fNqOjADQX9RGxxYLDBQibbn0O2xKys3XHTYWotBZ/uhJHTJunikJkbQ/Fh9Y47rzoufEi/4Tlvnt2OEzR5eIAAAwXp/xi3ivsDopO2yGDAYAqBopIYk1g5kCyO8LFrXyJ68YItMDDm11lPxke16xZ4qbuwufFTFycnLe3t7Hjx+n0z9KTREREW9v7y+paohsJbAx3G/v/6qu4FTWJQDYMXkjRUIFAMqbK4MenwQAZ53ptmpWQ7zJz+XELDGcJykyON/d1tYmKyv7aQmMQCD0ZHN2dh55GcvPCcqJyWyZ6LXOfIWJvAEAKJMUNn+3lkQgAkBR49sTzy+UNlV8cyfYWtcK4jJiOPlZ/h4KxedOPm9ueHA0qkrdc6utFCouLQ4tH1r/aUi4HI6I2iQDArTWtrBY1Q/ii0B7xRozEr8SOKv6QXwxaK9YNb5rM7zWYh8raEi9U9QxqOpw1cPEt6C+0E0bS6fT6XS23GQHCpQ8Kmz9SG3d7cCpu6y1gOZn997S+Zx/9cP4QlBf4WVJRoYFKIziNM/JaPXt6wV0AE5j9t0iMF4wWQ4DgCFb+ie9q3gSvXuJeunlna6Gem7hBR094Gis2WgrI2BZjg8sIprTLEn0BK8VAXEvG5iDzkyhUDw9PVG0a1RGUdTT05NCoYyeWsad4pSM912157TyzDvFKXeKU9LKM3sk253ilIHezJje8X9R82pP2tHHFc8H1TBxcfH6+q6C9bNnz54+fers7IzBYATL9tXZikdYRnJ6PV+VSQq2FEve5w4WfbCENfzrWbiMpmYWiEiKYoFo4eOl++HqoZhLh263mvl6GokARkxKFNob2tgAAJ3ld3a5mCqJoTg8HpWfn8gALheARaukAUhRpPhrdxatqvmfm2HEFZWI0PS+aQA1fG7ru78/AEZBWxZprm4GeHfIUobIC1nrY+XAptW191LiwYgryItCS00zC+nG78vxvKmiCUBWWxY/XEBhFKZ72eMrrkW/6uDSsq9nc3Rcp6t2S3CEoDRx6e6YjLLia99r1N5ev/pSKasLHFlNGYEnxlh9w4KRc454GO6l8WfAIjMFFesfI162DLITGRgYeHh4IAiCIIiHh4eBgcFX6p84LG6OzrS9UzYPquKeUHw/qzqX9zm9PDOh+H5C8f30brZ6VVeYUHx/gKlUVVX7+quDRY/JuxmSGV7X3jDAbJqamm/evOns7ORyuSUlJW5ubqampgJn++pOsNeYqWVX3Fha2FDSQ1i+3/0wQEs4/GzFbmtoAxAhERAAvO7KTRMDvX39QWTmlUXqKAAXTyQAndbKAmC+ObvQ9UCB1YYj1xzHyuEaUrctDmwEAJQoTwRoek9jgTKfGx6VUJYAoJZTmaBM4JnFtprqVpBUIfePILsyKewpG8a5TiDjOPJEADXvK5fcVT/uiJXUlu+leM1prqjqAEkVMoqgoniAdmo7B6T+Ob5gxaTEAFprmvm3f+BAAWDkZvi5kp2uXcjeuuja4w5NbxfNzzMjIhrzgw7aRy5Ov5Pf5j2GpEAEoFX2gyG/XkjkB4uE6Zozj1bsy71xyM/nyNppHZSiSBsEwQBwOQNc929hYcGrXllYWHyl/mkib7DY0FlWTHqwO+639y9sKIl6eb0vJ2ipaj7AVNbW1uXl5Z/+0tTU9OnTI4UNJQHpx+boTJ+mMQXb3+T+pEmTcnNzExMTXVxcli9f/uUGg8o2Etrqy8BjcD4Wq/VktARWWAJHL5V4TgeVDkAgiWAAAB3j+pOjGICU2+aZChgAwIiQCABtDW1soJem5YOce3CQt9sMWxv76ZPVRHn3iYrNNFUojo58wXfIRpXt5mrDm5jo3K55QGbpjdAMkJ46V0e0H4ZueXFi1YZHTNnlAUvUUFR5ioMqlGVUKkyw/hgTx8p/eZdz23IvHs8C2amztUVwcgZqBChIyqF+3kicymRreSj47WYxnW8zBgwUACDkyZs8VD5c3XfsRHKT5uKFugQAAA6T8amMZDdXNrJ5Yg1VmjJNFYp++8/rblfM/cTXYhAAFp3JlwcGAAsqbep+4OpJK2h89qiiEysuJw5QX1w3YG/o4ODg4ODwNbqlrJi0z4RV6yesEoCqeFV2NofdlxPkAgx8qtHIyOjTNVCvX78OCwv7vM7JZsYVJF1+FddvNkVFRScnp+zs7IiIiPLyciazF6wHnu3baKsewjqddalHYYVmRwXZ/YzvbyqE/9jFt5rel2SgN3cAVoyIQ3iqwOnU7WurUCsbXkEWQyCJAFAb29mgqDFFH+JjfHzGeNlrSaJt2SXtXUVXE7+DLlHLj9paFnsvs9EUa694h3cPXPb5gQiG6494XHQ5Os2+dtNiE1xpQmhYBn5q6K7JvVUuW/N/P382H8/grQ69k9csYRMQf2KGDAZA1NTvwLwoj61WU7I9XS0oRDa1vJQ7L2jnpO6Vo2W3Th5BdMQ6yh5fPh2XT3K6uMuaCMC1Xu8mk3xl6YyVvovN5fEtL//snu0WM9/ibxm5eY/DnA9+C8YS3j+KOVcBYCQwUIAFALFxPpvHn9pyLBH09i7VIwAAtD7xNl6YZTR3poWOnGhnfX5KdEwuUNZ5m4sDICYb9kwP99xnZ1+2caGJeENOXFg6gA5PH6mri8Ot03tDjYK97RX76m59w8IsuuB3tFTbwkCB0P72/unnIDpzvCIOS7KaoQHBQat92Yt1uRUlhOXBP40TG3JdYZDaCofFDX116KcLFHoM4KdVLQAIcwoeYLbZs2eTyeR79+6x2ezLly9jsZ9rdjwWx1NDA8lmaWkpLi6enJwcHh6OwWAQBPn1118FzvZt2OozwsJhcatNF+EHcMH49IaBLBDtVTI0dQCBROiWiASKndvHCipCIIlioLKxnQM47XXXrlZ6747Yuz4aALBEeU3zafoSWABUxT02U2T/lr3hobtvswCvYPb91I4vHQZGfs65p7coG7eHHvCP5Ypr2K2POBHk8cXyBSxJVRXLzj29dQMAgKiCgcXsHZG+G90nyHTXeVXdYzNF9m8NuHhq59VOAJKa1QqbDg5IYBEx3VlOprVPzu1MZwGgcsZOv1w/vN1FDQUARHrmmXuhhHWBlw9uvwKAISkbTHGepIADALyOz+0HbN+Nh8/t8GHjlEwtxuChQgRFBASq6z7UXL5n/q8ucdrrlungAQC4WCWnNY7vriedSa6lAyASGpbL9kft32QjiQAAqrbyWjp724bAmKCfoxEZo6nj5OARL5OkXVDI0uJt/zmVuNGzb7bqGxYOo7EiPfz8RSoHAK9g6rIv/qSzHAbAeOvlgwWrg8J3bwFUfoLXzA4OiGFGkq0Etn6fxSrTRQDAYDHiCpIZ7I9Pf2MRjLPujMFO5PEcnJ6eXlJSEgA4Ojp++peejJaHsZucmMzAsxkbGxsYGPCeE2Sz2UPM1u9qdf6BDOXdoZ0cZlh2jIPGZENZ3YFsn5aWNmvWLBDG1wtufbyrptvrzbkv944lDCEPqzTMwchfKrowzk1+8CRAjbOXW1SzJy93lwH+/xF4f/zxh42Nzbc6enXrh/iiu4UNJWwOR0uKMld3uiZZbVgyeyX9LIqKLDCYPXnMd8OVTboA/+D3j+X/lStXrlq1apRqqx6FtcFizaDGLg6H09c8qzAEGzJKYnefKZLSUJUnIbSS9JjjCZ0Tjy7TFYyqOE05128VAqckPjjguUlQzhz5/5lrxeFwvuE7GID3qKCZx9fIPF7RSID1Vv1kmyFBkVCJiooaMaqCEX53KIFAoFKpMjIyQo4ZvmDR3uXdO/+goK4TAJHUmrzk+IMD63QErKN0lt068OP+Vyyi7uydd8I3GxD+d3CkUqm81Y//vhheEuzJ1sNQI0NVQ3WCg42ysrLa2lpjY2MpKSmhwhLG6FFVVCo1Ly9PQUFBTU1NCMiojRFlKy6XW15eXl1dLXxJozBGVRAIBCUlJQqFInwHt5CthCEMYQhjqPFfO4qsWHRtlt4AAAAASUVORK5CYII="},78882:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/IntelliJ-Run-Debug-Config-ad4bab4801f125a7dc4c480eb7e2e0ac.png"},90201:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/IntelliJ-SBT-Settings-Additional-7228afb48b1c5dd6968a051e7c1ebebc.png"},25579:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/IntelliJ-SBT-Settings-ce6a1ca99a26dedd7e4dd8333ded89d6.png"}}]);