"use strict";(self.webpackChunkzio_site=self.webpackChunkzio_site||[]).push([[46927],{3905:(e,t,o)=>{o.d(t,{Zo:()=>p,kt:()=>d});var n=o(67294);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var g=n.createContext({}),s=function(e){var t=n.useContext(g),o=t;return e&&(o="function"==typeof e?e(t):r(r({},t),e)),o},p=function(e){var t=s(e.components);return n.createElement(g.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var o=e.components,i=e.mdxType,a=e.originalType,g=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=s(o),u=i,d=m["".concat(g,".").concat(u)]||m[u]||c[u]||a;return o?n.createElement(d,r(r({ref:t},p),{},{components:o})):n.createElement(d,r({ref:t},p))}));function d(e,t){var o=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=o.length,r=new Array(a);r[0]=u;var l={};for(var g in t)hasOwnProperty.call(t,g)&&(l[g]=t[g]);l.originalType=e,l[m]="string"==typeof e?e:i,r[1]=l;for(var s=2;s<a;s++)r[s]=o[s];return n.createElement.apply(null,r)}return n.createElement.apply(null,o)}u.displayName="MDXCreateElement"},97533:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>g,contentTitle:()=>r,default:()=>c,frontMatter:()=>a,metadata:()=>l,toc:()=>s});var n=o(87462),i=(o(67294),o(3905));const a={id:"index",title:"Introduction to ZIO Logging",sidebar_label:"Introduction"},r=void 0,l={unversionedId:"zio-logging/index",id:"zio-logging/index",title:"Introduction to ZIO Logging",description:"ZIO Logging is simple logging for ZIO apps, with correlation, context, and pluggable backends out of the box with integrations for common logging backends.",source:"@site/docs/zio-logging/index.md",sourceDirName:"zio-logging",slug:"/zio-logging/",permalink:"/zio-logging/",draft:!1,editUrl:"https://github.com/zio/zio/edit/series/2.x/docs/zio-logging/index.md",tags:[],version:"current",frontMatter:{id:"index",title:"Introduction to ZIO Logging",sidebar_label:"Introduction"},sidebar:"ecosystem-sidebar",previous:{title:"ZIO Lambda",permalink:"/zio-lambda/"},next:{title:"Formatting Log Records",permalink:"/zio-logging/formatting-log-records"}},g={},s=[{value:"Introduction",id:"introduction",level:2},{value:"Installation",id:"installation",level:2},{value:"Example",id:"example",level:2}],p={toc:s},m="wrapper";function c(e){let{components:t,...o}=e;return(0,i.kt)(m,(0,n.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/zio/zio-logging"},"ZIO Logging")," is simple logging for ZIO apps, with correlation, context, and pluggable backends out of the box with integrations for common logging backends."),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://github.com/zio/zio/wiki/Project-Stages"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/badge/Project%20Stage-Production%20Ready-brightgreen.svg",alt:"Production Ready"}))," ",(0,i.kt)("img",{parentName:"p",src:"https://github.com/zio/zio-logging/workflows/CI/badge.svg",alt:"CI Badge"})," ",(0,i.kt)("a",{parentName:"p",href:"https://oss.sonatype.org/content/repositories/releases/dev/zio/zio-logging_2.13/"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/nexus/r/https/oss.sonatype.org/dev.zio/zio-logging_2.13.svg?label=Sonatype%20Release",alt:"Sonatype Releases"}))," ",(0,i.kt)("a",{parentName:"p",href:"https://oss.sonatype.org/content/repositories/snapshots/dev/zio/zio-logging_2.13/"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/nexus/s/https/oss.sonatype.org/dev.zio/zio-logging_2.13.svg?label=Sonatype%20Snapshot",alt:"Sonatype Snapshots"}))," ",(0,i.kt)("a",{parentName:"p",href:"https://javadoc.io/doc/dev.zio/zio-logging-docs_2.13"},(0,i.kt)("img",{parentName:"a",src:"https://javadoc.io/badge2/dev.zio/zio-logging-docs_2.13/javadoc.svg",alt:"javadoc"}))," ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/zio/zio-logging"},(0,i.kt)("img",{parentName:"a",src:"https://img.shields.io/github/stars/zio/zio-logging?style=social",alt:"zio-logging"}))),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"When we are writing our applications using ZIO effects, to log easy way we need a ZIO native solution for logging."),(0,i.kt)("p",null,"Key features of ZIO Logging:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"ZIO Native")," \u2014 Other than it is a type-safe and purely functional solution, it leverages ZIO's features."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Multi-Platform")," - It supports both JVM and JS platforms."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Composable")," \u2014 Loggers are composable together via contraMap."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Pluggable Backends")," \u2014 Support multiple backends like ZIO Console, SLF4j, JPL."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Logger Context")," \u2014 It has a first citizen ",(0,i.kt)("em",{parentName:"li"},"Logger Context")," implemented on top of ",(0,i.kt)("inlineCode",{parentName:"li"},"FiberRef"),". The Logger Context maintains information like logger name, filters, correlation id, and so forth across different fibers. It supports ",(0,i.kt)("em",{parentName:"li"},"Mapped Diagnostic Context (MDC)")," which manages contextual information across fibers in a concurrent environment."),(0,i.kt)("li",{parentName:"ul"},"Richly integrated into ZIO 2's built-in logging facilities"),(0,i.kt)("li",{parentName:"ul"},"ZIO Console, SLF4j, and other backends")),(0,i.kt)("h2",{id:"installation"},"Installation"),(0,i.kt)("p",null,"In order to use this library, we need to add the following line in our ",(0,i.kt)("inlineCode",{parentName:"p"},"build.sbt")," file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'// ZIO Logging backends\nlibraryDependencies += "dev.zio" %% "zio-logging" % "2.1.15"\n')),(0,i.kt)("p",null,"The main module contains the following features: "),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/zio-logging/console-logger"},"console loggers")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/zio-logging/file-logger"},"file loggers")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/zio-logging/metrics"},"log metrics"))),(0,i.kt)("p",null,"Other modules:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"SLF4J backend - if you like to use ",(0,i.kt)("a",{parentName:"p",href:"https://www.slf4j.org/"},(0,i.kt)("inlineCode",{parentName:"a"},"SLF4J"))," logging backends (e.g. java.util.logging, logback, log4j), add the one of following lines to your ",(0,i.kt)("inlineCode",{parentName:"p"},"build.sbt")," file:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'// SLF4j v1 integration\nlibraryDependencies += "dev.zio" %% "zio-logging-slf4j" % "2.1.15"\n\n// SLF4j v2 integration\nlibraryDependencies += "dev.zio" %% "zio-logging-slf4j2" % "2.1.15"\n')),(0,i.kt)("p",{parentName:"li"}," When to use this module: you are already using SLF4J logger in some other project, and you like to have same log outputs.\nSee SLF4J ",(0,i.kt)("a",{parentName:"p",href:"/zio-logging/slf4j2"},"v2")," or ",(0,i.kt)("a",{parentName:"p",href:"/zio-logging/slf4j1"},"v1")," section for more details."))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"SLF4J bridge - with this logging bridge, it is possible to use ",(0,i.kt)("inlineCode",{parentName:"p"},"zio-logging")," for SLF4J loggers (usually third-party non-ZIO libraries), add the one of following lines to your ",(0,i.kt)("inlineCode",{parentName:"p"},"build.sbt")," file: "),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'// Using ZIO Logging for SLF4j v1 loggers, usually third-party non-ZIO libraries\nlibraryDependencies += "dev.zio" %% "zio-logging-slf4j-bridge" % "2.1.15"\n\n// Using ZIO Logging for SLF4j v2 loggers, usually third-party non-ZIO libraries\nlibraryDependencies += "dev.zio" %% "zio-logging-slf4j2-bridge" % "2.1.15"\n')),(0,i.kt)("p",{parentName:"li"},"  When to use this module: you want to use some zio-logger implementation, but also you are using some java library which using SLF4J interface for logging.\nSee SLF4J bridge ",(0,i.kt)("a",{parentName:"p",href:"/zio-logging/slf4j2-bridge"},"v2")," or ",(0,i.kt)("a",{parentName:"p",href:"/zio-logging/slf4j1-bridge"},"v1")," section for more details."))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Java Platform/System Logger backend - if you like to use  ",(0,i.kt)("a",{parentName:"p",href:"https://openjdk.org/jeps/264"},(0,i.kt)("inlineCode",{parentName:"a"},"Java Platform/System Logger"))," logging backend, add the following line to your ",(0,i.kt)("inlineCode",{parentName:"p"},"build.sbt")," file:"),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'// JPL integration\nlibraryDependencies += "dev.zio" %% "zio-logging-jpl" % "2.1.15"\n')),(0,i.kt)("p",{parentName:"li"},"  When to use this module: you are already using Java Platform/System Logger in some other project, and you like to have same log outputs.\nSee ",(0,i.kt)("a",{parentName:"p",href:"/zio-logging/jpl"},"Java Platform/System Logger")," section for more details."))),(0,i.kt)("h2",{id:"example"},"Example"),(0,i.kt)("p",null,"Let's try an example of ZIO Logging which demonstrates a simple application of ZIO logging."),(0,i.kt)("p",null,"The recommended place for setting the logger is application boostrap. In this case, custom logger will be set for whole application runtime (also application failures will be logged with specified logger)."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-scala"},'package zio.logging.example\n\nimport zio.logging.consoleLogger\nimport zio.{ ExitCode, Runtime, Scope, ZIO, ZIOAppArgs, ZIOAppDefault, ZLayer }\n\nobject SimpleApp extends ZIOAppDefault {\n\n  override val bootstrap: ZLayer[ZIOAppArgs, Any, Any] =\n    Runtime.removeDefaultLoggers >>> consoleLogger()\n\n  override def run: ZIO[Scope, Any, ExitCode] =\n    for {\n      _ <- ZIO.logInfo("Start")\n      _ <- ZIO.fail("FAILURE")\n      _ <- ZIO.logInfo("Done")\n    } yield ExitCode.success\n\n}\n')),(0,i.kt)("p",null,"Expected console output:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'timestamp=2023-03-15T08:36:24.421098+01:00 level=INFO thread=zio-fiber-4 message="Start"\ntimestamp=2023-03-15T08:36:24.440181+01:00 level=ERROR thread=zio-fiber-0 message="" cause=Exception in thread "zio-fiber-4" java.lang.String: FAILURE\n    at zio.logging.example.SimpleApp.run(SimpleApp.scala:29)\n')),(0,i.kt)("p",null,"You can find the source code of examples ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/zio/zio-logging/tree/master/examples"},"here")))}c.isMDXComponent=!0}}]);