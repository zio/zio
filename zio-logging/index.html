<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-zio-logging docs-doc-id-index">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Introduction to ZIO Logging | ZIO</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://zio.dev/zio-logging/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-zio-logging-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-zio-logging-current"><meta data-rh="true" property="og:title" content="Introduction to ZIO Logging | ZIO"><meta data-rh="true" name="description" content="ZIO Logging is the official logging library for ZIO 2 applications, with integrations for common logging backends."><meta data-rh="true" property="og:description" content="ZIO Logging is the official logging library for ZIO 2 applications, with integrations for common logging backends."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://zio.dev/zio-logging/"><link data-rh="true" rel="alternate" href="https://zio.dev/zio-logging/" hreflang="en"><link data-rh="true" rel="alternate" href="https://zio.dev/zio-logging/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://IAX8GRSWEQ-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-237088290-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SH0HNKLNRT"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-SH0HNKLNRT",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="ZIO" href="/opensearch.xml">



<link rel="stylesheet" href="/css/prism/prism-material-dark.css"><link rel="stylesheet" href="/assets/css/styles.3ac761dc.css">
<link rel="preload" href="/assets/js/runtime~main.1f2a858b.js" as="script">
<link rel="preload" href="/assets/js/main.fbf633c4.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/navbar_brand.png" alt="ZIO" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/navbar_brand.png" alt="ZIO" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/overview/">Overview</a><a class="navbar__item navbar__link" href="/reference/">Reference</a><a class="navbar__item navbar__link" href="/guides/">Guides</a><a class="navbar__item navbar__link" href="/ecosystem/">Ecosystem</a><a class="navbar__item navbar__link" href="/resources/">Resources</a><a class="navbar__item navbar__link" href="/about/">About</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/overview/">ZIO 2.x</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/overview/">ZIO 2.x</a></li><li><a class="dropdown__link" href="/version-1.x/overview/">ZIO 1.x</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/zio-logging/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zio-logging/jpl">Java Platform/System Logger</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zio-logging/slf4j">SLF4J</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zio-logging/slf4j_bridge">SLF4J bridge</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zio-logging/testing">Testing</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Introduction</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Introduction to ZIO Logging</h1></header><p><em>ZIO Logging</em> is the official logging library for ZIO 2 applications, with integrations for common logging backends.</p><ul><li>Type-safe, purely-functional, ZIO-powered</li><li>Compositional, type-safe log formatting</li><li>Richly integrated into ZIO 2&#x27;s built-in logging facilities</li><li>ZIO Console, SLF4j, and other backends</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a class="hash-link" href="#installation" title="Direct link to heading">​</a></h2><p><code>ZIO-Logging</code> is available via maven repo.
In order to use this library, we need to add the following line in our build.sbt file:</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line"><span class="token plain">libraryDependencies </span><span class="token operator">+=</span><span class="token plain"> </span><span class="token string">&quot;dev.zio&quot;</span><span class="token plain"> </span><span class="token operator">%</span><span class="token operator">%</span><span class="token plain"> </span><span class="token string">&quot;zio-logging&quot;</span><span class="token plain"> </span><span class="token operator">%</span><span class="token plain"> </span><span class="token number">2.1</span><span class="token number">.3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="log-format">Log Format<a class="hash-link" href="#log-format" title="Direct link to heading">​</a></h3><p>A <code>LogFormat</code> represents a DSL to describe the format of text log messages.</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line"><span class="token keyword">import</span><span class="token plain"> </span><span class="token namespace">zio</span><span class="token namespace punctuation">.</span><span class="token namespace">logging</span><span class="token namespace punctuation">.</span><span class="token namespace">console</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token keyword">import</span><span class="token plain"> </span><span class="token namespace">zio</span><span class="token namespace punctuation">.</span><span class="token namespace">logging</span><span class="token namespace punctuation">.</span><span class="token plain">LogFormat</span><span class="token punctuation">.</span><span class="token plain">_</span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token keyword">val</span><span class="token plain"> myLogFormat </span><span class="token operator">=</span><span class="token plain"> timestamp</span><span class="token punctuation">.</span><span class="token plain">fixed</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">|</span><span class="token operator">-</span><span class="token operator">|</span><span class="token plain"> level </span><span class="token operator">|</span><span class="token operator">-</span><span class="token operator">|</span><span class="token plain"> label</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span><span class="token plain"> quoted</span><span class="token punctuation">(</span><span class="token plain">line</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token keyword">val</span><span class="token plain"> myConsoleLogger </span><span class="token operator">=</span><span class="token plain"> console</span><span class="token punctuation">(</span><span class="token plain">myLogFormat</span><span class="token punctuation">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="logger-context-and-annotations">Logger Context and Annotations<a class="hash-link" href="#logger-context-and-annotations" title="Direct link to heading">​</a></h3><p>The <code>logContext</code> fiber reference is used to store typed, structured log
annotations, which can be utilized by backends to enrich log messages.</p><p>Because <code>logContext</code> is an ordinary <code>zio.FiberRef</code>, it may be get, set,
and updated like any other fiber reference. However, the idiomatic way to
interact with <code>logContext</code> is by using <code>zio.logging.LogAnnotation</code>.</p><p>For example:</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line"><span class="token plain">myResponseHandler</span><span class="token punctuation">(</span><span class="token plain">request</span><span class="token punctuation">)</span><span class="token plain"> @@ LogAnnotation</span><span class="token punctuation">.</span><span class="token plain">UserId</span><span class="token punctuation">(</span><span class="token plain">request</span><span class="token punctuation">.</span><span class="token plain">userId</span><span class="token punctuation">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This code would add the structured log annotation <code>LogAnnotation.UserId</code>
to all log messages emitted by the <code>myResponseHandler(request)</code> effect.</p><p>The user of the library is allowed to add a custom <code>LogAnnotation</code>:</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line"><span class="token keyword">import</span><span class="token plain"> </span><span class="token namespace">zio</span><span class="token namespace punctuation">.</span><span class="token namespace">logging</span><span class="token namespace punctuation">.</span><span class="token plain">LogAnnotation</span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token keyword">val</span><span class="token plain"> customLogAnnotation </span><span class="token operator">=</span><span class="token plain"> LogAnnotation</span><span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">&quot;custom_annotation&quot;</span><span class="token punctuation">,</span><span class="token plain"> _ </span><span class="token operator">+</span><span class="token plain"> _</span><span class="token punctuation">,</span><span class="token plain"> _</span><span class="token punctuation">.</span><span class="token plain">toString</span><span class="token punctuation">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="logger-setup-in-zio-application">Logger setup in ZIO application<a class="hash-link" href="#logger-setup-in-zio-application" title="Direct link to heading">​</a></h3><p>The recommended place for setting the logger is application boostrap.
In this case, custom logger will be set for whole application runtime (also application failures will be logged with specified logger).</p><div class="language-scala codeBlockContainer_Ckt0 theme-code-block"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line"><span class="token keyword">package</span><span class="token plain"> </span><span class="token namespace">zio</span><span class="token namespace punctuation">.</span><span class="token namespace">logging</span><span class="token namespace punctuation">.</span><span class="token namespace">example</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token keyword">import</span><span class="token plain"> </span><span class="token namespace">zio</span><span class="token namespace punctuation">.</span><span class="token namespace">logging</span><span class="token namespace punctuation">.</span><span class="token punctuation">{</span><span class="token plain"> LogFormat</span><span class="token punctuation">,</span><span class="token plain"> console </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token keyword">import</span><span class="token plain"> </span><span class="token namespace">zio</span><span class="token namespace punctuation">.</span><span class="token punctuation">{</span><span class="token plain"> ExitCode</span><span class="token punctuation">,</span><span class="token plain"> Runtime</span><span class="token punctuation">,</span><span class="token plain"> Scope</span><span class="token punctuation">,</span><span class="token plain"> ZIO</span><span class="token punctuation">,</span><span class="token plain"> ZIOAppArgs</span><span class="token punctuation">,</span><span class="token plain"> ZIOAppDefault</span><span class="token punctuation">,</span><span class="token plain"> ZLayer </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token keyword">object</span><span class="token plain"> SimpleApp </span><span class="token keyword">extends</span><span class="token plain"> ZIOAppDefault </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">  </span><span class="token keyword">override</span><span class="token plain"> </span><span class="token keyword">val</span><span class="token plain"> bootstrap</span><span class="token operator">:</span><span class="token plain"> ZLayer</span><span class="token punctuation">[</span><span class="token plain">ZIOAppArgs </span><span class="token keyword">with</span><span class="token plain"> Scope</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token builtin">Any</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token builtin">Any</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">    Runtime</span><span class="token punctuation">.</span><span class="token plain">removeDefaultLoggers </span><span class="token operator">&gt;&gt;&gt;</span><span class="token plain"> console</span><span class="token punctuation">(</span><span class="token plain">LogFormat</span><span class="token punctuation">.</span><span class="token plain">default</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">  </span><span class="token keyword">override</span><span class="token plain"> </span><span class="token keyword">def</span><span class="token plain"> run</span><span class="token operator">:</span><span class="token plain"> ZIO</span><span class="token punctuation">[</span><span class="token plain">Scope</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token builtin">Any</span><span class="token punctuation">,</span><span class="token plain"> ExitCode</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">    </span><span class="token keyword">for</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">      _ </span><span class="token keyword">&lt;-</span><span class="token plain"> ZIO</span><span class="token punctuation">.</span><span class="token plain">logInfo</span><span class="token punctuation">(</span><span class="token string">&quot;Start&quot;</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">      _ </span><span class="token keyword">&lt;-</span><span class="token plain"> ZIO</span><span class="token punctuation">.</span><span class="token plain">fail</span><span class="token punctuation">(</span><span class="token string">&quot;FAILURE&quot;</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">      _ </span><span class="token keyword">&lt;-</span><span class="token plain"> ZIO</span><span class="token punctuation">.</span><span class="token plain">logInfo</span><span class="token punctuation">(</span><span class="token string">&quot;Done&quot;</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">yield</span><span class="token plain"> ExitCode</span><span class="token punctuation">.</span><span class="token plain">success</span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Expected console output:</p><div class="codeBlockContainer_Ckt0 theme-code-block"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line"><span class="token plain">timestamp=2022-10-28T18:40:25.517623+02:00 level=INFO thread=zio-fiber-6 message=&quot;Start&quot;</span><br></span><span class="token-line"><span class="token plain">timestamp=2022-10-28T18:40:25.54676+02:00  level=ERROR thread=zio-fiber-0 message=&quot;&quot; cause=Exception in thread &quot;zio-fiber-6&quot; java.lang.String: FAILURE</span><br></span><span class="token-line"><span class="token plain">    at zio.logging.example.SimpleApp.run(SimpleApp.scala:14)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="examples">Examples<a class="hash-link" href="#examples" title="Direct link to heading">​</a></h2><p>You can find the source code <a href="https://github.com/zio/zio-logging/tree/master/examples/src/main/scala/zio/logging/example" target="_blank" rel="noopener noreferrer">here</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="json-console-logger">JSON console logger<a class="hash-link" href="#json-console-logger" title="Direct link to heading">​</a></h3><div class="language-scala codeBlockContainer_Ckt0 theme-code-block"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line"><span class="token keyword">package</span><span class="token plain"> </span><span class="token namespace">zio</span><span class="token namespace punctuation">.</span><span class="token namespace">logging</span><span class="token namespace punctuation">.</span><span class="token namespace">example</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token keyword">import</span><span class="token plain"> </span><span class="token namespace">zio</span><span class="token namespace punctuation">.</span><span class="token namespace">logging</span><span class="token namespace punctuation">.</span><span class="token punctuation">{</span><span class="token plain"> LogAnnotation</span><span class="token punctuation">,</span><span class="token plain"> LogFormat</span><span class="token punctuation">,</span><span class="token plain"> consoleJson </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token keyword">import</span><span class="token plain"> </span><span class="token namespace">zio</span><span class="token namespace punctuation">.</span><span class="token punctuation">{</span><span class="token plain"> ExitCode</span><span class="token punctuation">,</span><span class="token plain"> Runtime</span><span class="token punctuation">,</span><span class="token plain"> Scope</span><span class="token punctuation">,</span><span class="token plain"> ZIO</span><span class="token punctuation">,</span><span class="token plain"> ZIOAppDefault</span><span class="token punctuation">,</span><span class="token plain"> _ </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token keyword">import</span><span class="token plain"> </span><span class="token namespace">java</span><span class="token namespace punctuation">.</span><span class="token namespace">util</span><span class="token namespace punctuation">.</span><span class="token plain">UUID</span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token keyword">object</span><span class="token plain"> ConsoleJsonApp </span><span class="token keyword">extends</span><span class="token plain"> ZIOAppDefault </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">  </span><span class="token keyword">private</span><span class="token plain"> </span><span class="token keyword">val</span><span class="token plain"> userLogAnnotation </span><span class="token operator">=</span><span class="token plain"> LogAnnotation</span><span class="token punctuation">[</span><span class="token plain">UUID</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">_</span><span class="token punctuation">,</span><span class="token plain"> i</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token keyword">=&gt;</span><span class="token plain"> i</span><span class="token punctuation">,</span><span class="token plain"> _</span><span class="token punctuation">.</span><span class="token plain">toString</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">  </span><span class="token keyword">override</span><span class="token plain"> </span><span class="token keyword">val</span><span class="token plain"> bootstrap</span><span class="token operator">:</span><span class="token plain"> ZLayer</span><span class="token punctuation">[</span><span class="token plain">ZIOAppArgs </span><span class="token keyword">with</span><span class="token plain"> Scope</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token builtin">Any</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token builtin">Any</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">    Runtime</span><span class="token punctuation">.</span><span class="token plain">removeDefaultLoggers </span><span class="token operator">&gt;&gt;&gt;</span><span class="token plain"> consoleJson</span><span class="token punctuation">(</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">      LogFormat</span><span class="token punctuation">.</span><span class="token plain">default </span><span class="token operator">+</span><span class="token plain"> LogFormat</span><span class="token punctuation">.</span><span class="token plain">annotation</span><span class="token punctuation">(</span><span class="token plain">LogAnnotation</span><span class="token punctuation">.</span><span class="token plain">TraceId</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> LogFormat</span><span class="token punctuation">.</span><span class="token plain">annotation</span><span class="token punctuation">(</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">        userLogAnnotation</span><br></span><span class="token-line"><span class="token plain">      </span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">    </span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">  </span><span class="token keyword">private</span><span class="token plain"> </span><span class="token keyword">val</span><span class="token plain"> users </span><span class="token operator">=</span><span class="token plain"> List</span><span class="token punctuation">.</span><span class="token plain">fill</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token plain">UUID</span><span class="token punctuation">.</span><span class="token plain">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">  </span><span class="token keyword">override</span><span class="token plain"> </span><span class="token keyword">def</span><span class="token plain"> run</span><span class="token operator">:</span><span class="token plain"> ZIO</span><span class="token punctuation">[</span><span class="token plain">Scope</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token builtin">Any</span><span class="token punctuation">,</span><span class="token plain"> ExitCode</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">    </span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">      traceId </span><span class="token keyword">&lt;-</span><span class="token plain"> ZIO</span><span class="token punctuation">.</span><span class="token plain">succeed</span><span class="token punctuation">(</span><span class="token plain">UUID</span><span class="token punctuation">.</span><span class="token plain">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">      _       </span><span class="token keyword">&lt;-</span><span class="token plain"> ZIO</span><span class="token punctuation">.</span><span class="token plain">foreachPar</span><span class="token punctuation">(</span><span class="token plain">users</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> uId </span><span class="token keyword">=&gt;</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">        </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">          ZIO</span><span class="token punctuation">.</span><span class="token plain">logInfo</span><span class="token punctuation">(</span><span class="token string">&quot;Starting operation&quot;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">            ZIO</span><span class="token punctuation">.</span><span class="token plain">sleep</span><span class="token punctuation">(</span><span class="token number">500.</span><span class="token plain">millis</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">            ZIO</span><span class="token punctuation">.</span><span class="token plain">logInfo</span><span class="token punctuation">(</span><span class="token string">&quot;Stopping operation&quot;</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">        </span><span class="token punctuation">}</span><span class="token plain"> @@ userLogAnnotation</span><span class="token punctuation">(</span><span class="token plain">uId</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"> @@ LogAnnotation</span><span class="token punctuation">.</span><span class="token plain">TraceId</span><span class="token punctuation">(</span><span class="token plain">traceId</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">      _       </span><span class="token keyword">&lt;-</span><span class="token plain"> ZIO</span><span class="token punctuation">.</span><span class="token plain">logInfo</span><span class="token punctuation">(</span><span class="token string">&quot;Done&quot;</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">yield</span><span class="token plain"> ExitCode</span><span class="token punctuation">.</span><span class="token plain">success</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Expected console output:</p><div class="codeBlockContainer_Ckt0 theme-code-block"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line"><span class="token plain">{&quot;timestamp&quot;:&quot;2022-10-28T13:48:20.350244+02:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;zio-fiber-8&quot;,&quot;message&quot;:&quot;Starting operation&quot;,&quot;trace_id&quot;:&quot;674a118e-2944-46a7-8db2-ceb79d91d51d&quot;,&quot;user&quot;:&quot;b4cf9c71-5b1d-4fe1-bfb4-35a6e51483b2&quot;}</span><br></span><span class="token-line"><span class="token plain">{&quot;timestamp&quot;:&quot;2022-10-28T13:48:20.350238+02:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;zio-fiber-7&quot;,&quot;message&quot;:&quot;Starting operation&quot;,&quot;trace_id&quot;:&quot;674a118e-2944-46a7-8db2-ceb79d91d51d&quot;,&quot;user&quot;:&quot;372071a6-a643-452b-a07c-d0966e556bfa&quot;}</span><br></span><span class="token-line"><span class="token plain">{&quot;timestamp&quot;:&quot;2022-10-28T13:48:20.899453+02:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;zio-fiber-7&quot;,&quot;message&quot;:&quot;Stopping operation&quot;,&quot;trace_id&quot;:&quot;674a118e-2944-46a7-8db2-ceb79d91d51d&quot;,&quot;user&quot;:&quot;372071a6-a643-452b-a07c-d0966e556bfa&quot;}</span><br></span><span class="token-line"><span class="token plain">{&quot;timestamp&quot;:&quot;2022-10-28T13:48:20.899453+02:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;zio-fiber-8&quot;,&quot;message&quot;:&quot;Stopping operation&quot;,&quot;trace_id&quot;:&quot;674a118e-2944-46a7-8db2-ceb79d91d51d&quot;,&quot;user&quot;:&quot;b4cf9c71-5b1d-4fe1-bfb4-35a6e51483b2&quot;}</span><br></span><span class="token-line"><span class="token plain">{&quot;timestamp&quot;:&quot;2022-10-28T13:48:20.908254+02:00&quot;,&quot;level&quot;:&quot;INFO&quot;,&quot;thread&quot;:&quot;zio-fiber-6&quot;,&quot;message&quot;:&quot;Done&quot;}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="console-colored-logger-with-log-filtering">Console colored logger with log filtering<a class="hash-link" href="#console-colored-logger-with-log-filtering" title="Direct link to heading">​</a></h3><div class="language-scala codeBlockContainer_Ckt0 theme-code-block"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line"><span class="token keyword">package</span><span class="token plain"> </span><span class="token namespace">zio</span><span class="token namespace punctuation">.</span><span class="token namespace">logging</span><span class="token namespace punctuation">.</span><span class="token namespace">example</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token keyword">import</span><span class="token plain"> </span><span class="token namespace">zio</span><span class="token namespace punctuation">.</span><span class="token namespace">logging</span><span class="token namespace punctuation">.</span><span class="token punctuation">{</span><span class="token plain"> LogFilter</span><span class="token punctuation">,</span><span class="token plain"> LogFormat</span><span class="token punctuation">,</span><span class="token plain"> console </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token keyword">import</span><span class="token plain"> </span><span class="token namespace">zio</span><span class="token namespace punctuation">.</span><span class="token punctuation">{</span><span class="token plain"> Cause</span><span class="token punctuation">,</span><span class="token plain"> ExitCode</span><span class="token punctuation">,</span><span class="token plain"> LogLevel</span><span class="token punctuation">,</span><span class="token plain"> Runtime</span><span class="token punctuation">,</span><span class="token plain"> Scope</span><span class="token punctuation">,</span><span class="token plain"> URIO</span><span class="token punctuation">,</span><span class="token plain"> ZIO</span><span class="token punctuation">,</span><span class="token plain"> ZIOAppArgs</span><span class="token punctuation">,</span><span class="token plain"> ZIOAppDefault</span><span class="token punctuation">,</span><span class="token plain"> ZLayer </span><span class="token punctuation">}</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token keyword">object</span><span class="token plain"> ConsoleColoredApp </span><span class="token keyword">extends</span><span class="token plain"> ZIOAppDefault </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">  </span><span class="token keyword">override</span><span class="token plain"> </span><span class="token keyword">val</span><span class="token plain"> bootstrap</span><span class="token operator">:</span><span class="token plain"> ZLayer</span><span class="token punctuation">[</span><span class="token plain">ZIOAppArgs </span><span class="token keyword">with</span><span class="token plain"> Scope</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token builtin">Any</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token builtin">Any</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">    Runtime</span><span class="token punctuation">.</span><span class="token plain">removeDefaultLoggers </span><span class="token operator">&gt;&gt;&gt;</span><span class="token plain"> console</span><span class="token punctuation">(</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">      LogFormat</span><span class="token punctuation">.</span><span class="token plain">colored</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">      LogFilter</span><br></span><span class="token-line"><span class="token plain">        </span><span class="token punctuation">.</span><span class="token plain">logLevelByName</span><span class="token punctuation">(</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">          LogLevel</span><span class="token punctuation">.</span><span class="token plain">Info</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">          </span><span class="token string">&quot;zio.logging.example.LivePingService&quot;</span><span class="token plain"> </span><span class="token operator">-&gt;</span><span class="token plain"> LogLevel</span><span class="token punctuation">.</span><span class="token plain">Debug</span><br></span><span class="token-line"><span class="token plain">        </span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">        </span><span class="token punctuation">.</span><span class="token plain">cached</span><br></span><span class="token-line"><span class="token plain">    </span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">  </span><span class="token keyword">private</span><span class="token plain"> </span><span class="token keyword">def</span><span class="token plain"> ping</span><span class="token punctuation">(</span><span class="token plain">address</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin">String</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token plain"> URIO</span><span class="token punctuation">[</span><span class="token plain">PingService</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token builtin">Unit</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">    PingService</span><br></span><span class="token-line"><span class="token plain">      </span><span class="token punctuation">.</span><span class="token plain">ping</span><span class="token punctuation">(</span><span class="token plain">address</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">      </span><span class="token punctuation">.</span><span class="token plain">foldZIO</span><span class="token punctuation">(</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">        e </span><span class="token keyword">=&gt;</span><span class="token plain"> ZIO</span><span class="token punctuation">.</span><span class="token plain">logErrorCause</span><span class="token punctuation">(</span><span class="token string-interpolation id function">s</span><span class="token string-interpolation string">&quot;ping: </span><span class="token string-interpolation interpolation punctuation">$</span><span class="token string-interpolation interpolation expression">address</span><span class="token string-interpolation string"> - error&quot;</span><span class="token punctuation">,</span><span class="token plain"> Cause</span><span class="token punctuation">.</span><span class="token plain">fail</span><span class="token punctuation">(</span><span class="token plain">e</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">        r </span><span class="token keyword">=&gt;</span><span class="token plain"> ZIO</span><span class="token punctuation">.</span><span class="token plain">logInfo</span><span class="token punctuation">(</span><span class="token string-interpolation id function">s</span><span class="token string-interpolation string">&quot;ping: </span><span class="token string-interpolation interpolation punctuation">$</span><span class="token string-interpolation interpolation expression">address</span><span class="token string-interpolation string"> - result: </span><span class="token string-interpolation interpolation punctuation">$</span><span class="token string-interpolation interpolation expression">r</span><span class="token string-interpolation string">&quot;</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">      </span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain">  </span><span class="token keyword">override</span><span class="token plain"> </span><span class="token keyword">def</span><span class="token plain"> run</span><span class="token operator">:</span><span class="token plain"> ZIO</span><span class="token punctuation">[</span><span class="token plain">Scope</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token builtin">Any</span><span class="token punctuation">,</span><span class="token plain"> ExitCode</span><span class="token punctuation">]</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">    </span><span class="token punctuation">(</span><span class="token keyword">for</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">      _ </span><span class="token keyword">&lt;-</span><span class="token plain"> ping</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">      _ </span><span class="token keyword">&lt;-</span><span class="token plain"> ping</span><span class="token punctuation">(</span><span class="token string">&quot;x8.8.8.8&quot;</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"> </span><span class="token keyword">yield</span><span class="token plain"> ExitCode</span><span class="token punctuation">.</span><span class="token plain">success</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token plain">provide</span><span class="token punctuation">(</span><span class="token plain">LivePingService</span><span class="token punctuation">.</span><span class="token plain">layer</span><span class="token punctuation">)</span><span class="token plain"></span><br></span><span class="token-line"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Expected console output:</p><div class="codeBlockContainer_Ckt0 theme-code-block"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line"><span class="token plain">timestamp=2022-10-28T21:12:07.313782+02:00 level=DEBUG thread=zio-fiber-6 message=&quot;ping: /127.0.0.1&quot;</span><br></span><span class="token-line"><span class="token plain">timestamp=2022-10-28T21:12:07.326911+02:00 level=INFO thread=zio-fiber-6 message=&quot;ping: 127.0.0.1 - result: true&quot;</span><br></span><span class="token-line"><span class="token plain">timestamp=2022-10-28T21:12:07.348939+02:00 level=ERROR thread=zio-fiber-6 message=&quot;ping: x8.8.8.8 - invalid address error&quot; cause=Exception in thread &quot;zio-fiber-6&quot; java.net.UnknownHostException: java.net.UnknownHostException: x8.8.8.8: nodename nor servname provided, or not known</span><br></span><span class="token-line"><span class="token plain">    at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)</span><br></span><span class="token-line"><span class="token plain">    at java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:929)</span><br></span><span class="token-line"><span class="token plain">    at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1529)</span><br></span><span class="token-line"><span class="token plain">    at java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:848)</span><br></span><span class="token-line"><span class="token plain">    at java.net.InetAddress.getAllByName0(InetAddress.java:1519)</span><br></span><span class="token-line"><span class="token plain">    at java.net.InetAddress.getAllByName(InetAddress.java:1378)</span><br></span><span class="token-line"><span class="token plain">    at java.net.InetAddress.getAllByName(InetAddress.java:1306)</span><br></span><span class="token-line"><span class="token plain">    at java.net.InetAddress.getByName(InetAddress.java:1256)</span><br></span><span class="token-line"><span class="token plain">    at zio.logging.example.LivePingService.ping(PingService.scala:35)</span><br></span><span class="token-line"><span class="token plain">    at zio.logging.example.LivePingService.ping(PingService.scala:36)</span><br></span><span class="token-line"><span class="token plain">    at zio.logging.example.LivePingService.ping(PingService.scala:33)</span><br></span><span class="token-line"><span class="token plain">    at zio.logging.example.ConsoleColoredApp.ping(ConsoleColoredApp.scala:37)</span><br></span><span class="token-line"><span class="token plain">    at zio.logging.example.ConsoleColoredApp.run(ConsoleColoredApp.scala:45)</span><br></span><span class="token-line"><span class="token plain">    at zio.logging.example.ConsoleColoredApp.run(ConsoleColoredApp.scala:46)</span><br></span><span class="token-line"><span class="token plain">timestamp=2022-10-28T21:12:07.357647+02:00 level=ERROR thread=zio-fiber-6 message=&quot;ping: x8.8.8.8 - error&quot; cause=Exception in thread &quot;zio-fiber-&quot; java.net.UnknownHostException: java.net.UnknownHostException: x8.8.8.8: nodename nor servname provided, or not known</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/zio-logging/jpl"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Java Platform/System Logger</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a><ul><li><a href="#log-format" class="table-of-contents__link toc-highlight">Log Format</a></li><li><a href="#logger-context-and-annotations" class="table-of-contents__link toc-highlight">Logger Context and Annotations</a></li><li><a href="#logger-setup-in-zio-application" class="table-of-contents__link toc-highlight">Logger setup in ZIO application</a></li></ul></li><li><a href="#examples" class="table-of-contents__link toc-highlight">Examples</a><ul><li><a href="#json-console-logger" class="table-of-contents__link toc-highlight">JSON console logger</a></li><li><a href="#console-colored-logger-with-log-filtering" class="table-of-contents__link toc-highlight">Console colored logger with log filtering</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item">
                <img src="/img/navbar_brand.png" alt="zio">
            </li></ul></div><div class="col footer__col"><div class="footer__title">Github</div><ul class="footer__items clean-list"><li class="footer__item">
              <a href="https://github.com/zio/zio">
                <img src="https://img.shields.io/github/stars/zio/zio?style=social" alt="github">
              </a>
            </li></ul></div><div class="col footer__col"><div class="footer__title">Chat with us on Discord</div><ul class="footer__items clean-list"><li class="footer__item">
                <a href="https://discord.gg/2ccFBr4">
                  <img src="https://img.shields.io/discord/629491597070827530?logo=discord&style=social" alt="discord">
                </a>
              </li></ul></div><div class="col footer__col"><div class="footer__title">Follow us on Twitter</div><ul class="footer__items clean-list"><li class="footer__item">
                <a href="https://twitter.com/zioscala">
                  <img src="https://img.shields.io/twitter/follow/zioscala?label=Follow&style=social" alt="twitter">
                </a>
              </li></ul></div><div class="col footer__col"><div class="footer__title">Additional resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://javadoc.io/doc/dev.zio/zio_2.12/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Scaladoc of ZIO<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 ZIO Maintainers - Built with <a href="https://v2.docusaurus.io/">Docusaurus v2</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.1f2a858b.js"></script>
<script src="/assets/js/main.fbf633c4.js"></script>
</body>
</html>